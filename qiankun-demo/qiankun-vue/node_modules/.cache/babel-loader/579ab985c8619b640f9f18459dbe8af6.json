{"remainingRequest":"/Users/min.xu/setup/qiankun-demo/qiankun-vue/node_modules/babel-loader/lib/index.js!/Users/min.xu/setup/qiankun-demo/qiankun-vue/node_modules/eslint-loader/index.js??ref--14-0!/Users/min.xu/setup/qiankun-demo/qiankun-vue/src/main.js","dependencies":[{"path":"/Users/min.xu/setup/qiankun-demo/qiankun-vue/src/main.js","mtime":1635935765386},{"path":"/Users/min.xu/setup/qiankun-demo/qiankun-vue/babel.config.js","mtime":1635847841354},{"path":"/Users/min.xu/setup/qiankun-demo/qiankun-vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/min.xu/setup/qiankun-demo/qiankun-vue/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/min.xu/setup/qiankun-demo/qiankun-vue/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy9taW4ueHUvc2V0dXAvcWlhbmt1bi1kZW1vL3FpYW5rdW4tdnVlL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0ICIvVXNlcnMvbWluLnh1L3NldHVwL3FpYW5rdW4tZGVtby9xaWFua3VuLXZ1ZS9ub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lml0ZXJhdG9yLmpzIjsKaW1wb3J0ICIvVXNlcnMvbWluLnh1L3NldHVwL3FpYW5rdW4tZGVtby9xaWFua3VuLXZ1ZS9ub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL2VzLnByb21pc2UuanMiOwppbXBvcnQgIi9Vc2Vycy9taW4ueHUvc2V0dXAvcWlhbmt1bi1kZW1vL3FpYW5rdW4tdnVlL25vZGVfbW9kdWxlcy9jb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmFzc2lnbi5qcyI7CmltcG9ydCAiL1VzZXJzL21pbi54dS9zZXR1cC9xaWFua3VuLWRlbW8vcWlhbmt1bi12dWUvbm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9lcy5wcm9taXNlLmZpbmFsbHkuanMiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCAnLi9wdWJsaWMtcGF0aCc7CmltcG9ydCBWdWUgZnJvbSAndnVlJzsKaW1wb3J0IFZ1ZVJvdXRlciBmcm9tICd2dWUtcm91dGVyJzsKaW1wb3J0IEFwcCBmcm9tICcuL0FwcC52dWUnOwppbXBvcnQgcm91dGVzIGZyb20gJy4vcm91dGVyL2luZGV4JzsKVnVlLmNvbmZpZy5wcm9kdWN0aW9uVGlwID0gZmFsc2U7CnZhciB2bSA9IG51bGw7CnZhciByb3V0ZXIgPSBudWxsOwp2YXIgYmFzZVVybCA9ICcvdnVlLWFwcCc7CgpmdW5jdGlvbiByZW5kZXIoKSB7CiAgdmFyIHByb3BzID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB7fTsKICB2YXIgY29udGFpbmVyID0gcHJvcHMuY29udGFpbmVyOwogIHJvdXRlciA9IG5ldyBWdWVSb3V0ZXIoewogICAgbW9kZTogJ2hpc3RvcnknLAogICAgYmFzZTogd2luZG93Ll9fUE9XRVJFRF9CWV9RSUFOS1VOX18gPyBiYXNlVXJsIDogcHJvY2Vzcy5lbnYuQkFTRV9VUkwsCiAgICByb3V0ZXM6IHJvdXRlcwogIH0pOwogIHJvdXRlci5iZWZvcmVFYWNoKGZ1bmN0aW9uICh0bywgZnJvbSwgbmV4dCkgewogICAgY29uc29sZS5sb2codG8sIDMzMyk7CgogICAgaWYgKHdpbmRvdy5fX1BPV0VSRURfQllfUUlBTktVTl9fICYmIHRvLnBhdGguaW5kZXhPZihiYXNlVXJsKSA8IC0xKSB7CiAgICAgIGNvbnNvbGUubG9nKGJhc2VVcmwsIHRvKTsKICAgICAgbmV4dCgiIi5jb25jYXQoYmFzZVVybCkuY29uY2F0KHRvLnBhdGgpKTsKICAgICAgcmV0dXJuOwogICAgfSBlbHNlIHsKICAgICAgbmV4dCgpOwogICAgfQogIH0pOwogIHZtID0gbmV3IFZ1ZSh7CiAgICBwcm9wczogcHJvcHMsCiAgICByb3V0ZXI6IHJvdXRlciwKICAgIHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyKGgpIHsKICAgICAgcmV0dXJuIGgoQXBwKTsKICAgIH0KICB9KS4kbW91bnQoY29udGFpbmVyID8gY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJyN2dWVBcHAnKSA6ICcjdnVlQXBwJyk7Cn0KCmlmICghd2luZG93Ll9fUE9XRVJFRF9CWV9RSUFOS1VOX18pIHsKICByZW5kZXIoKTsKfSAvLyDmraTlpITnlJ/lkb3lkajmnJ/kuIDlrpropoHmmK8gYXN5bmMg5oiWIHByb21pc2UKCgpleHBvcnQgZnVuY3Rpb24gYm9vdHN0cmFwKCkgewogIHJldHVybiBfYm9vdHN0cmFwLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7Cn0KCmZ1bmN0aW9uIF9ib290c3RyYXAoKSB7CiAgX2Jvb3RzdHJhcCA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICB3aGlsZSAoMSkgewogICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgfQogICAgICB9CiAgICB9LCBfY2FsbGVlKTsKICB9KSk7CiAgcmV0dXJuIF9ib290c3RyYXAuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKfQoKZXhwb3J0IGZ1bmN0aW9uIG1vdW50KF94KSB7CiAgcmV0dXJuIF9tb3VudC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwp9CgpmdW5jdGlvbiBfbW91bnQoKSB7CiAgX21vdW50ID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMihwcm9wcykgewogICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgd2hpbGUgKDEpIHsKICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgcmVuZGVyKHByb3BzKTsKCiAgICAgICAgICBjYXNlIDE6CiAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sIF9jYWxsZWUyKTsKICB9KSk7CiAgcmV0dXJuIF9tb3VudC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwp9CgpleHBvcnQgZnVuY3Rpb24gdW5tb3VudCgpIHsKICByZXR1cm4gX3VubW91bnQuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKfQoKZnVuY3Rpb24gX3VubW91bnQoKSB7CiAgX3VubW91bnQgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzKCkgewogICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzJChfY29udGV4dDMpIHsKICAgICAgd2hpbGUgKDEpIHsKICAgICAgICBzd2l0Y2ggKF9jb250ZXh0My5wcmV2ID0gX2NvbnRleHQzLm5leHQpIHsKICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgdm0uJGRlc3Ryb3koKTsKICAgICAgICAgICAgdm0uJGVsLmlubmVySFRNTCA9ICcnOwogICAgICAgICAgICB2bSA9IG51bGw7CgogICAgICAgICAgY2FzZSAzOgogICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5zdG9wKCk7CiAgICAgICAgfQogICAgICB9CiAgICB9LCBfY2FsbGVlMyk7CiAgfSkpOwogIHJldHVybiBfdW5tb3VudC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwp9"},{"version":3,"sources":["/Users/min.xu/setup/qiankun-demo/qiankun-vue/src/main.js"],"names":["Vue","VueRouter","App","routes","config","productionTip","vm","router","baseUrl","render","props","container","mode","base","window","__POWERED_BY_QIANKUN__","process","env","BASE_URL","beforeEach","to","from","next","console","log","path","indexOf","h","$mount","querySelector","bootstrap","mount","unmount","$destroy","$el","innerHTML"],"mappings":";;;;;;AAAA,OAAO,eAAP;AACA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,OAAOC,GAAP,MAAgB,WAAhB;AACA,OAAOC,MAAP,MAAmB,gBAAnB;AAEAH,GAAG,CAACI,MAAJ,CAAWC,aAAX,GAA2B,KAA3B;AAEA,IAAIC,EAAE,GAAG,IAAT;AACA,IAAIC,MAAM,GAAG,IAAb;AACA,IAAIC,OAAO,GAAG,UAAd;;AAEA,SAASC,MAAT,GAA6B;AAAA,MAAZC,KAAY,uEAAJ,EAAI;AAC3B,MAAQC,SAAR,GAAsBD,KAAtB,CAAQC,SAAR;AACAJ,EAAAA,MAAM,GAAG,IAAIN,SAAJ,CAAc;AACrBW,IAAAA,IAAI,EAAE,SADe;AAErBC,IAAAA,IAAI,EAAEC,MAAM,CAACC,sBAAP,GAAgCP,OAAhC,GAA0CQ,OAAO,CAACC,GAAR,CAAYC,QAFvC;AAGrBf,IAAAA,MAAM,EAANA;AAHqB,GAAd,CAAT;AAMAI,EAAAA,MAAM,CAACY,UAAP,CAAkB,UAACC,EAAD,EAAKC,IAAL,EAAWC,IAAX,EAAoB;AACpCC,IAAAA,OAAO,CAACC,GAAR,CAAYJ,EAAZ,EAAgB,GAAhB;;AACA,QAAIN,MAAM,CAACC,sBAAP,IAAiCK,EAAE,CAACK,IAAH,CAAQC,OAAR,CAAgBlB,OAAhB,IAA2B,CAAC,CAAjE,EAAoE;AAClEe,MAAAA,OAAO,CAACC,GAAR,CAAYhB,OAAZ,EAAqBY,EAArB;AACAE,MAAAA,IAAI,WAAId,OAAJ,SAAcY,EAAE,CAACK,IAAjB,EAAJ;AACA;AACD,KAJD,MAIO;AACLH,MAAAA,IAAI;AACL;AACF,GATD;AAWAhB,EAAAA,EAAE,GAAG,IAAIN,GAAJ,CAAQ;AACXU,IAAAA,KAAK,EAALA,KADW;AAEXH,IAAAA,MAAM,EAANA,MAFW;AAGXE,IAAAA,MAAM,EAAE,gBAAAkB,CAAC;AAAA,aAAIA,CAAC,CAACzB,GAAD,CAAL;AAAA;AAHE,GAAR,EAIF0B,MAJE,CAIKjB,SAAS,GAAGA,SAAS,CAACkB,aAAV,CAAwB,SAAxB,CAAH,GAAwC,SAJtD,CAAL;AAKD;;AAED,IAAI,CAACf,MAAM,CAACC,sBAAZ,EAAoC;AAClCN,EAAAA,MAAM;AACP,C,CAED;;;AACA,gBAAsBqB,SAAtB;AAAA;AAAA;;;uEAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G;;;;AAGP,gBAAsBC,KAAtB;AAAA;AAAA;;;mEAAO,kBAAsBrB,KAAtB;AAAA;AAAA;AAAA;AAAA;AACLD,YAAAA,MAAM,CAACC,KAAD,CAAN;;AADK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G;;;;AAIP,gBAAsBsB,OAAtB;AAAA;AAAA;;;qEAAO;AAAA;AAAA;AAAA;AAAA;AACL1B,YAAAA,EAAE,CAAC2B,QAAH;AACA3B,YAAAA,EAAE,CAAC4B,GAAH,CAAOC,SAAP,GAAmB,EAAnB;AACA7B,YAAAA,EAAE,GAAG,IAAL;;AAHK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G","sourcesContent":["import './public-path'\nimport Vue from 'vue'\nimport VueRouter from 'vue-router'\nimport App from './App.vue'\nimport routes from './router/index'\n\nVue.config.productionTip = false\n\nlet vm = null\nlet router = null\nlet baseUrl = '/vue-app'\n\nfunction render (props = {}) {\n  const { container } = props\n  router = new VueRouter({\n    mode: 'history',\n    base: window.__POWERED_BY_QIANKUN__ ? baseUrl : process.env.BASE_URL,\n    routes\n  })\n\n  router.beforeEach((to, from, next) => {\n    console.log(to, 333)\n    if (window.__POWERED_BY_QIANKUN__ && to.path.indexOf(baseUrl) < -1) {\n      console.log(baseUrl, to)\n      next(`${baseUrl}${to.path}`)\n      return\n    } else {\n      next()\n    }\n  })\n\n  vm = new Vue({\n    props,\n    router,\n    render: h => h(App),\n  }).$mount(container ? container.querySelector('#vueApp') : '#vueApp')\n}\n\nif (!window.__POWERED_BY_QIANKUN__) {\n  render()\n}\n\n// 此处生命周期一定要是 async 或 promise\nexport async function bootstrap () {\n}\n\nexport async function mount (props) {\n  render(props)\n}\n\nexport async function unmount () {\n  vm.$destroy()\n  vm.$el.innerHTML = ''\n  vm = null\n}\n\n"]}]}